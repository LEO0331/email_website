{"version":3,"sources":["actions/types.js","actions/index.js","component/Payments.js","component/Header.js","component/Landing.js","component/Dashboard.js","component/SurveyNew.js","component/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["FETCH_USER","fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","REACT_APP_STRIPE","className","Component","connect","actions","Header","this","auth","href","style","margin","credits","to","id","renderContent","state","Landing","Dashboard","SurveyNew","App","exact","path","component","combineReducers","action","store","createStore","reducer","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"qXACaA,EAAa,aCEbC,EAAY,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACZC,IAAMC,IAAI,qBADE,OACxBC,EADwB,OAE9BJ,EAAS,CAACK,KAAMP,EAAYQ,QAASF,EAAIG,OAFX,2CAAN,uDAKZC,EAAc,SAAAC,GAAK,8CAAI,WAAMT,GAAN,eAAAC,EAAA,sEACjBC,IAAMQ,KAAK,cAAeD,GADT,OAC7BL,EAD6B,OAEnCJ,EAAS,CAACK,KAAMP,EAAYQ,QAASF,EAAIG,OAFN,2CAAJ,uD,wBCH1BI,E,4JAEL,WAAS,IAAD,OACP,OACC,cAAC,IAAD,CACCC,KAAK,SACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAI,EAAKM,MAAMP,YAAYC,IACvCO,UAAWC,mIAAYC,iBALxB,SAOA,wBAAQC,UAAU,+BAAlB,+B,GAXoBC,aAiBRC,cAAQ,KAAMC,EAAdD,CAAuBV,GCjBhCY,E,mKACL,WACC,OAAQC,KAAKT,MAAMU,MAClB,KAAK,KACJ,OACD,KAAK,EACJ,OAAO,6BAAI,mBAAGC,KAAK,eAAR,iCACZ,QACC,MAAO,CACN,6BAAY,cAAC,EAAD,KAAJ,KACR,qBAAYC,MAAO,CAACC,OAAQ,SAA5B,sBAAgDJ,KAAKT,MAAMU,KAAKI,UAAxD,KACR,6BAAY,mBAAGH,KAAK,cAAR,qBAAJ,S,oBAKZ,WACC,OACC,8BACI,sBAAKP,UAAU,cAAf,UACG,cAAC,IAAD,CAAMW,GAAIN,KAAKT,MAAMU,KAAO,WAAY,IAAKN,UAAU,kBAAvD,oBAGA,oBAAIY,GAAG,aAAaZ,UAAU,6BAA9B,SACGK,KAAKQ,2B,GAxBGZ,aAoCNC,mBAJf,SAAyBY,GACxB,MAAO,CAACR,KAAMQ,EAAMR,QAGNJ,CAAyBE,GC9BzBW,EATC,WACf,OACC,sBAAKf,UAAU,eAAf,UACI,wCADJ,mCCOagB,EATG,WACjB,OACC,sBAAKhB,UAAU,eAAf,UACI,wCADJ,iBCOaiB,EATG,WACjB,OACC,sBAAKjB,UAAU,eAAf,UACI,wCADJ,iBCMIkB,E,uKACJ,WACEb,KAAKT,MAAMhB,c,oBAGb,WACE,OACE,qBAAKoB,UAAU,YAAf,SACE,cAAC,IAAD,UACE,gCACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAOmB,OAAS,EAAMC,KAAK,IAAIC,UAAWN,IAC1C,cAAC,IAAD,CAAOI,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,cAAC,IAAD,CAAOI,KAAK,eAAeC,UAAWJ,e,GAbhChB,aAqBHC,cAAQ,KAAMC,EAAdD,CAAuBgB,GC5BvBI,cAAgB,CAC9BhB,KCDc,WAA+B,IAAtBQ,EAAqB,uDAAb,KAAMS,EAAO,uCAC5C,OAAQA,EAAOrC,MACd,KAAKP,EACJ,OAAO4C,EAAOpC,UAAW,EACvB,QACG,OAAO2B,M,QCETU,EAAQC,YAAYC,EAAS,GAAIC,YAAgBC,MAEvDC,IAASC,OACR,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SAAwB,cAAC,EAAD,MACxBO,SAASC,eAAe,W","file":"static/js/main.07517d6a.chunk.js","sourcesContent":["//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export\nexport const FETCH_USER = 'fetch_user';","import axios from 'axios';\nimport {FETCH_USER} from './types'; //import fetchuser from './type'\n\nexport const fetchUser = () => async dispatch => { \n\tconst res = await axios.get('/api/current_user');\n\tdispatch({type: FETCH_USER, payload: res.data});\n};\n\nexport const handleToken = token => async dispatch => {\n\tconst res = await axios.post('/api/stripe', token);\n\tdispatch({type: FETCH_USER, payload: res.data});\n};\n/*\nexport const fetchUser = () => {\n\treturn function(dispatch){ //dispatch func in App component\n\t\taxios.get('/api/current_user').then(res => {\n\t\t\tdispatch({true: FETCH_USER, payload: res})\n\t\t});\n\t};\n};\n*/","import React, {Component} from 'react';\nimport StripeCheckout from 'react-stripe-checkout'; //https://www.npmjs.com/package/react-stripe-checkout\nimport {connect} from 'react-redux';\nimport * as actions from '../actions';\n\nclass Payments extends Component{\n\t\n\trender(){\n\t\treturn(\n\t\t\t<StripeCheckout \n\t\t\t\tname=\"Emaily\"\n\t\t\t\tdescription=\"$5 for 5 email credits\"\n\t\t\t\tamount={500}\n\t\t\t\ttoken={token => this.props.handleToken(token)}\n\t\t\t\tstripeKey={process.env.REACT_APP_STRIPE}\n\t\t\t>\n\t\t\t<button className=\"waves-effect waves-light btn\">ADD CREDITS</button>\n\t\t\t</StripeCheckout>\n\t\t);\n\t}\n}\n\nexport default connect(null, actions)(Payments);","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport Payments from './Payments';\n\nclass Header extends Component{\n\trenderContent(){\n\t\tswitch (this.props.auth){\n\t\t\tcase null:\n\t\t\t\treturn;\n\t\t\tcase false:\n\t\t\t\treturn <li><a href=\"/auth/google\">Login with Google</a></li>;\n\t\t\tdefault:\n\t\t\t\treturn [ //https://flaviocopes.com/jsx-return-multiple-elements/\n\t\t\t\t\t<li key=\"1\"><Payments /></li>,\n\t\t\t\t\t<li key=\"2\" style={{margin: '0 8px'}}>Credits: {this.props.auth.credits}</li>,\n\t\t\t\t\t<li key=\"3\"><a href=\"/api/logout\">Logout</a></li>\n\t\t\t\t];\n\t\t}\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<nav>\n    \t\t\t<div className=\"nav-wrapper\">\n\t      \t\t\t<Link to={this.props.auth ? '/surveys': '/'} className=\"left brand-logo\">\n\t      \t\t\tEmaily\n\t      \t\t\t</Link>\n\t      \t\t\t<ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n\t        \t\t\t{this.renderContent()}\n\t      \t\t\t</ul>\n    \t\t\t</div>\n  \t\t\t</nav>\n\t\t);\n\t}\n}\n//https://react-redux.js.org/using-react-redux/connect-mapstate\nfunction mapStateToProps(state){ //the entire Redux store state:  the \"state value\", not the \"store instance\"\n\treturn {auth: state.auth};\n}\n//function mapStateToProps({auth}) return {auth}\nexport default connect(mapStateToProps)(Header);","import React from 'react';\n\nconst Landing = () => {\n\treturn (\n\t\t<div className=\"center-align\">\n\t    \t<h1>Emaily</h1>\n\t    \tCollect feedback from users!\t\t\n    \t</div>\n\t);\n};\n\nexport default Landing;\n//<div style={{textAlign: 'center'}}> fisrt:pass JS/Second:actual obj passing in -> text-align: center in CSS","import React from 'react';\n//must return one parent item; Not more than one\nconst Dashboard = () => {\n\treturn (\n\t\t<div className=\"center-align\">\n\t    \t<h1>Emaily</h1>\n\t    \tDashboard!\t\t\n    \t</div>\n\t);\n};\n\nexport default Dashboard;","import React from 'react';\n\nconst SurveyNew = () => {\n\treturn (\n\t\t<div className=\"center-align\">\n\t    \t<h1>Emaily</h1>\n\t    \tSurveyNew!\t\t\n    \t</div>\n\t);\n};\n\nexport default SurveyNew;","import React, {Component} from 'react';\n//import './App.css';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport * as actions from '../actions';\nimport Header from './Header';\nimport Landing from './Landing';\nimport Dashboard from './Dashboard';\nimport SurveyNew from './SurveyNew';\n\nclass App extends Component {\n  componentDidMount(){ //進行實例化網路請求:AJAX\n    this.props.fetchUser();\n  }\n\n  render(){\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route exact = {true} path=\"/\" component={Landing} />\n            <Route exact path=\"/surveys\" component={Dashboard} />\n            <Route path=\"/surveys/new\" component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n//connect a React component to a Redux store: actions as props in App\nexport default connect(null, actions)(App);\n/*\nexact = {true} or exact: avoid showing both landing and Dashboard page in route /surveys -> /surveys will find all components inside, meaning \"/\" will also be shown\nOnly one component is allowed in <BrowserRouter>\nConnect: https://react-redux.js.org/api/connect\nthe wrapper function will be called right away, without being saved in a temporary variable -> \nall connect to generate the wrapper function, and immediately call the wrapper function to generate the final wrapper component\n*/","import {combineReducers} from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n\tauth: authReducer\n});","//https://www.redux.org.cn/docs/basics/Reducers.html\nimport {FETCH_USER} from '../actions/types';\n\nexport default function(state = null, action){\n\tswitch (action.type) {\n\t\tcase FETCH_USER: \n\t\t\treturn action.payload || false; //'' falsy\n    \tdefault:\n      \t\treturn state;\n  \t};\n};\n/* solve warning \"Unexpected default export of anonymous function\"\nconst authReducer = (state = {}, action) => {\n    ...\n  }\n};\nexport default authReducer;\n\nSituation || AuthReducers Returns \nMake request to backend to get current user || null: Do not know whats going on\nRequest complete, user login || User model: Object containing user ID\nRequest done, user NOT login || false: Sure that user not login\n*/","import 'materialize-css/dist/css/materialize.min.css'; //import materializeCSS from 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport './index.css';\nimport App from './component/App';\nimport reducer from './reducers';\nimport reduxThunk from 'redux-thunk';\n//https://www.redux.org.cn/docs/introduction/ThreePrinciples.html\nconst store = createStore(reducer, {}, applyMiddleware(reduxThunk));\n//The <Provider> component makes the Redux store available to any nested components that need to access the Redux store\nReactDOM.render(\n\t<Provider store={store}><App /></Provider>, \n\tdocument.getElementById('root')\n);\n//ReactDOM.render(<App />, document.getElementById('root')); (component instance, document.querySelector('#root'))\n//https://create-react-app.dev/docs/adding-custom-environment-variables/\n"],"sourceRoot":""}